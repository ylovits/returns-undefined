@import url("$lib/_common.less");
@import url("$lib/_vars.less");

#app {
	overflow: hidden;

	main {
		.title {
			display: flex;
			align-items: center;
			justify-content: center;
			flex-direction: column;
			padding: 1rem 0 7rem 0;
			position: relative;

			img {
				width: 8rem;
				height: auto;
				filter: url(#svgGlow);
			}

			h1 {
				font-size: 3rem;
				margin-left: 1rem;
				z-index: 4;
				filter: url(#softGlow);
			}
		}

		.players {
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			z-index: 1;
			min-height: 11rem;

			.player {
				width: 7rem;
				height: 7rem;
				padding: 1rem;
				margin: 1rem;
				filter: grayscale(1);
				pointer-events: none;
				transition: all 0.05s ease-in;

				g {
					transition: all 0.08s ease-in;
				}

				&.active {
					filter: url(#softGlow);
					animation: none;
				}

				&.triangle {
					fill: @triangle;
				}

				&.circle {
					fill: @circle;
				}

				&.hexagon {
					fill: @hexagon;
				}

				&.square {
					fill: @square;
				}

				&.selected {
					g {
						position: relative;
						animation: waiting 1s infinite;
					}
				}

				&.failed {
					filter: url(#dead);
				}
			}
		}

		.timer-settings {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 1rem;
			margin: 2rem 0;
			padding: 1.5rem;
            position: relative;
            z-index: 3;
            
            &-background {
                background: rgba(0, 0, 0, 0.1);
                border: 4px solid rgba(255, 255, 255, 0.1);
                filter: url(#pixelate-sm);
                padding: 0.1rem;
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                z-index: -1;
                border-radius: 1rem;
                pointer-events: none;

            }

			.timer-checkbox {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				cursor: pointer;
				font-size: 2rem;
				color: white;
				user-select: none;

				input[type="checkbox"] {
                filter: url(#pixelate-xs);

					appearance: none;
					width: 20px;
					height: 20px;
					border: 2px solid #4a90e2;
					border-radius: 4px;
					background: transparent;
					cursor: pointer;
					position: relative;

					&:checked {
						background: #4a90e2;
						&::after {
							content: 'âœ“';
							position: absolute;
							top: -2px;
							left: 2px;
							color: white;
							font-size: 14px;
							font-weight: bold;
						}
					}
				}
			}

			.timer-input-group {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				color: white;

				label {
					font-size: 2rem;
				}

				.timer-input {
                    filter: url(#pixelate-sm);

					padding: 0.5rem;
					border: 4px solid #4a90e2;
					border-radius: 10px;
					background: rgba(0, 0, 0, 0.3);
					color: white;
					font-size: 2rem;
					width: 80px;
					text-align: center;

					&:focus {
						outline: none;
						border-color: #61c3ff;
						box-shadow: 0 0 10px rgba(97, 195, 255, 0.3);
					}
				}
			}
		}
	}
}

.filter {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	user-select: none !important;
	pointer-events: none;
	z-index: 2;
	backdrop-filter: url(#pixelate-mosaic);
}

.filter-rg {
	z-index: 1;
	filter: url(#pixelate);
}

.filter-md {
	z-index: 1;
	filter: url(#pixelate-md);
}

.filter-sm {
	z-index: 1;
	filter: url(#pixelate-sm);
}

.filter-xs {
	z-index: 1;
	filter: url(#pixelate-xs);
}

@keyframes waiting {
	from,
	to {
		transform: translate(3rem, 3rem) scale(0.7);
	}

	50% {
		transform: translate(1.7rem, 1.7rem) scale(0.85, 0.8);
	}

	60% {
		transform: translate(1.4rem, 1.2rem) scale(0.9, 0.85);
	}

	70% {
		transform: translate(1.7rem, 1.7rem) scale(0.85, 0.8);
	}
}
